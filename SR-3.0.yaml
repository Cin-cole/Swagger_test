openapi: 3.0.0
info:
  title: EasyRAG production API
  version: 2.0.0
paths:
  /api/v3.3/actions/chunking/:
    post:
      tags:
        - Data Processing API 3.3 - Document Processing
      summary: Break reference/attachment to chunk
      operationId: chunking_api_v3.3_actions_chunking__post
      parameters:
        - name: input_type
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/ChunkingInputType'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChunkingPayloadRequest'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  oneOf:
                    - $ref: '#/components/schemas/DocumentComponent'
                    - $ref: '#/components/schemas/TOCComponent'
                    - $ref: '#/components/schemas/PageComponent'
                    - $ref: '#/components/schemas/SectionComponent'
                    - $ref: '#/components/schemas/TableComponent'
                    - $ref: '#/components/schemas/DiagramComponent'
                    - $ref: '#/components/schemas/UnstructuredComponent'
                    - $ref: '#/components/schemas/FAQComponent'
                    - $ref: '#/components/schemas/DictionaryComponent'
                  discriminator:
                    propertyName: label
                    mapping:
                      DOCUMENT: '#/components/schemas/DocumentComponent'
                      TABLEOFCONTENTS: '#/components/schemas/TOCComponent'
                      PAGE: '#/components/schemas/PageComponent'
                      SECTION: '#/components/schemas/SectionComponent'
                      TABLE: '#/components/schemas/TableComponent'
                      DIAGRAM: '#/components/schemas/DiagramComponent'
                      FREETEXT: '#/components/schemas/UnstructuredComponent'
                      FAQ: '#/components/schemas/FAQComponent'
                      DICTIONARY: '#/components/schemas/DictionaryComponent'
                title: Response Chunking Ai V3 Actions Chunking  Post
        '401':
          content:
            application/json:
              example:
                message: invalid access token
                code: InvalidAccessTokenError
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
          description: Unauthorized
        '403':
          content:
            application/json:
              example:
                message: not authenticated
                code: UnauthenticatedError
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
          description: Forbidden
        '422':
          content:
            application/json:
              example:
                message: 'body.field1.field2: field required, ...'
                code: ValidationError
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
          description: Unprocessable Entity
                
  /api/v3/actions/document-extract/:
    post:
      tags:
        - Data Processing API - Document Processing
      summary: Extract content from reference/attachment
      operationId: Document Extractor
      parameters:
        - name: output_type
          in: query
          required: true
          schema:
            type: string
            enum:
              - json
              - markdown
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_create_attachment_api_v3_attachments__post'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  file_name:
                    type: string
                  file_format:
                    type: string
                  markdown:
                    type: string
                    default: null
                  elements:
                    type: array
                    items:
                      type: object
                      properties:
                        container_number:
                          type: integer
                        role:
                          type: string
                        text:
                          type: string
                        attributes:
                          type: object
                          properties:
                            bbox:
                              type: object
                              properties:
                                top:
                                  type: number
                                bottom:
                                  type: number
                                left:
                                  type: number
                                right:
                                  type: number
                            path:
                              type: string
                  containers:
                    type: array
                    items:
                      type: object
                      properties:
                        container_number:
                          type: integer
                        width:
                          type: number
                        height:
                          type: number
                        attributes:
                          type: object
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
              example:
                message: invalid access token
                code: UnauthorizedError
        '403':
          description: Unauthenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
              example:
                message: not authenticated
                code: UnauthenticatedError
        '422':
          description: File Upload Error
          content:
            application/json:
              examples:
                FileUploadError:
                  summary: File Upload Error
                  value:
                    code: FileUploadError
                    message: 'File Error: {message}'
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
        '500':
          description: Internal Server Error
          content:
            application/json:
              examples:
                InternalServerError:
                  summary: Internal Server Error
                  value:
                    code: InternalServerError
                    message: internal server error, contact the dev to fix it
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
  /api/v3.3/actions/document-extract/:
    post:
      tags:
        - Data Processing API 3.3 - Document Processing
      summary: Extract content from reference/attachment
      operationId: extract_ai_v3.3_actions_document_extract__post
      parameters:
        - name: output_type
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/ExtractorResponseType'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_extract_ai_v3.3_actions_document_extract__post'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                anyOf:
                  - oneOf:
                      - $ref: '#/components/schemas/ReferencesAdaptiveResponse'
                      - $ref: '#/components/schemas/PowerPointAdaptiveResponse'
                      - $ref: '#/components/schemas/ImageAdaptiveResponse'
                    discriminator:
                      propertyName: spec_type
                      mapping:
                        references: '#/components/schemas/ReferencesAdaptiveResponse'
                        powerpoint: '#/components/schemas/PowerPointAdaptiveResponse'
                        image: '#/components/schemas/ImageAdaptiveResponse'
                  - $ref: '#/components/schemas/StructuredResponseMarkdown'
                title: Response Extract Ai V3 Actions Document Extract  Post
              example:
                spectype: references
                elements:
                  - role: section
                    pageidx: 0
                    globalidx: 1
                    contents:
                      - "Introduction"
                      - "This is the introduction section content."
                    attributes:
                      bbox:
                        top: 72
                        left: 48
                        bottom: 300
                        right: 600
                    paragraphs:
                      - "Introduction"
                      - "This is the introduction section content."
                  - role: table
                    pageidx: 1
                    globalidx: 2
                    contents:
                      - "Table Header"
                      - "Row 1"
                      - "Row 2"
                    attributes:
                      bbox:
                        top: 320
                        left: 60
                        bottom: 450
                        right: 700
                    numcolumn: 3
                    numrow: 2
                    cells:
                      - rowindices: [0]
                        colindices: [0]
                        content: "Header 1"
                      - rowindices: [1]
                        colindices: [0]
                        content: "Value 1"
                pages:
                  - pageidx: 0
                    name: "Page 1"
                    width: 1024
                    height: 768
                    titles: ["Sample Document"]
                    headers: ["Company Confidential"]
                    footers: ["Page 1"]
                dynamicfields:
                  xpaths: {}
                  tableofcontents: null
                  hastable: false
                filename: "sample.pdf"
                fileformat: "pdf"

        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
              example:
                message: invalid access token
                code: UnauthorizedError
        '403':
          description: Unauthenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
              example:
                message: not authenticated
                code: UnauthenticatedError
        '422':
          description: File Upload Error
          content:
            application/json:
              examples:
                FileUploadError:
                  summary: File Upload Error
                  value:
                    code: FileUploadError
                    message: 'File Error: {message}'
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
        '500':
          description: Internal Server Error
          content:
            application/json:
              examples:
                InternalServerError:
                  summary: Internal Server Error
                  value:
                    code: InternalServerError
                    message: internal server error, contact the dev to fix it
              schema:
                $ref: '#/components/schemas/ErrorResponseWithCode'
components:
  schemas:
    Body_create_attachment_api_v3_attachments__post:
      properties:
        file:
          type: string
          format: binary
          title: File
      type: object
      required:
        - file
      title: Body_create_attachment_api_v3_attachments__post
    ErrorResponseWithCode:
      properties:
        message:
          type: string
          title: Message
        code:
          anyOf:
            - type: string
            - nullable: true
          title: Code
      type: object
      required:
        - message
      title: ErrorResponseWithCode
    Company:
      properties:
        companyName:
          type: string
          title: Companyname
      type: object
      required:
        - companyName
      title: Company
    Diagram:
      properties:
        companyName:
          type: string
          title: Companyname
        parentDocName:
          type: string
          title: Parentdocname
        parentPageIdx:
          type: integer
          title: Parentpageidx
        diagramIdx:
          type: integer
          title: Diagramidx
        text:
          type: string
          title: Text
          default: ''
        imagePath:
          type: string
          title: Imagepath
          default: ''
        uniIdx:
          type: string
          title: Uniidx
          default: ''
        vectordbIds:
          items:
            type: string
          type: array
          title: Vectordbids
          default: []
      type: object
      required:
        - companyName
        - parentDocName
        - parentPageIdx
        - diagramIdx
      title: Diagram
    InputFormat:
      type: string
      enum:
        - json
        - plaintext
      title: InputFormat
    ChunkingRequest:
      properties:
        text:
          anyOf:
            - type: object
            - type: string
          title: Text
        company_name:
          anyOf:
            - type: string
            - nullable: true
          title: Company Name
        doc_name:
          anyOf:
            - type: string
            - nullable: true
          title: Doc Name
      type: object
      required:
        - text
      title: ChunkingRequest
    Chunks:
      items:
        oneOf:
          - $ref: '#/components/schemas/CompanyChunk'
          - $ref: '#/components/schemas/DocumentChunk'
          - $ref: '#/components/schemas/TOCChunk'
          - $ref: '#/components/schemas/PageChunk'
          - $ref: '#/components/schemas/SectionChunk'
          - $ref: '#/components/schemas/TableChunk'
          - $ref: '#/components/schemas/DiagramChunk'
          - $ref: '#/components/schemas/QAChunk'
          - $ref: '#/components/schemas/UnstructuredChunk'
        discriminator:
          propertyName: label
          mapping:
            COMPANY: '#/components/schemas/CompanyChunk'
            DIAGRAM: '#/components/schemas/DiagramChunk'
            DOCUMENT: '#/components/schemas/DocumentChunk'
            FREETEXT: '#/components/schemas/UnstructuredChunk'
            PAGE: '#/components/schemas/PageChunk'
            QA: '#/components/schemas/QAChunk'
            SECTION: '#/components/schemas/SectionChunk'
            TABLE: '#/components/schemas/TableChunk'
            TABLEOFCONTENTS: '#/components/schemas/TOCChunk'
      type: array
      title: Chunks
    CompanyChunk:
      properties:
        label:
          type: string
          enum: [COMPANY]
          title: Label
          default: COMPANY
        properties:
          $ref: '#/components/schemas/Company'
      type: object
      required:
        - properties
      title: CompanyChunk
    DocumentChunk:
      properties:
        label:
          type: string
          enum: [DOCUMENT]
          title: Label
          default: DOCUMENT
        properties:
          $ref: '#/components/schemas/app__api__v3__payload__actions__chunking__Document'
      type: object
      required:
        - properties
      title: DocumentChunk
    TOCChunk:
      properties:
        label:
          type: string
          enum: [TABLEOFCONTENTS]
          title: Label
          default: TABLEOFCONTENTS
        properties:
          $ref: '#/components/schemas/TOC'
      type: object
      required:
        - properties
      title: TOCChunk
    PageChunk:
      properties:
        label:
          type: string
          enum: [PAGE]
          title: Label
          default: PAGE
        properties:
          $ref: '#/components/schemas/Page'
      type: object
      required:
        - properties
      title: PageChunk
    SectionChunk:
      properties:
        label:
          type: string
          enum: [SECTION]
          title: Label
          default: SECTION
        properties:
          $ref: '#/components/schemas/Section'
      type: object
      required:
        - properties
      title: SectionChunk
    TableChunk:
      properties:
        label:
          type: string
          enum: [TABLE]
          title: Label
          default: TABLE
        properties:
          $ref: '#/components/schemas/app__api__v3__payload__actions__chunking__Table'
      type: object
      required:
        - properties
      title: TableChunk
    DiagramChunk:
      properties:
        label:
          type: string
          enum: [DIAGRAM]
          title: Label
          default: DIAGRAM
        properties:
          $ref: '#/components/schemas/Diagram'
      type: object
      required:
        - properties
      title: DiagramChunk
    QAChunk:
      properties:
        label:
          type: string
          enum: [QA]
          title: Label
          default: QA
        properties:
          $ref: '#/components/schemas/QA'
      type: object
      required:
        - properties
      title: QAChunk
    UnstructuredChunk:
      properties:
        label:
          type: string
          enum: [FREETEXT]
          title: Label
          default: FREETEXT
        properties:
          $ref: '#/components/schemas/FreeText'
      type: object
      required:
        - properties
      title: UnstructuredChunk
      
    DocumentComponent:
      properties:
        label:
          type: string
          enum: [DOCUMENT]
          title: Label
          default: DOCUMENT
        properties:
          $ref: '#/components/schemas/Document'
      type: object
      required:
        - properties
      title: DocumentComponent
    Document:
      properties:
        reference_id:
          type: string
          title: Reference Id
        doc_type:
          $ref: '#/components/schemas/DocumentType'
        text:
          type: string
          title: Text
          default: ''
        doc_name:
          type: string
          title: Doc Name
          default: ''
      type: object
      required:
        - reference_id
      title: Document
    DocumentType:
      type: string
      enum:
        - text
        - text_with_table_contents
        - structured
        - pptx
        - faq
        - dictionary
        - image
        - others
      default: structured
      title: DocumentType
    ChunkingInputType:
      type: string
      enum:
        - plain_text
        - json
      title: ChunkingInputType
    ChunkingPayloadRequest:
      properties:
        text:
          anyOf:
            - type: object
            - type: string
          title: Text
        company_name:
          anyOf:
            - type: string
              nullable: true
          title: Company Name
        doc_name:
          anyOf:
            - type: string
              nullable: true
          title: Doc Name
      type: object
      required:
        - text
      title: ChunkingPayloadRequest
      
    TOCComponent:
      properties:
        label:
          type: string
          enum: [TABLEOFCONTENTS]
          title: Label
          default: TABLEOFCONTENTS
        properties:
          $ref: '#/components/schemas/TOC'
      type: object
      required:
        - properties
      title: TOCComponent
    PageComponent:
      properties:
        label:
          type: string
          enum: [PAGE]
          title: Label
          default: PAGE
        properties:
          $ref: '#/components/schemas/kncore__structs__datamodel__Page'
      type: object
      required:
        - properties
      title: PageComponent
    SectionComponent:
      properties:
        label:
          type: string
          enum: [SECTION]
          title: Label
          default: SECTION
        properties:
          $ref: '#/components/schemas/kncore__structs__datamodel__Section'
      type: object
      required:
        - properties
      title: SectionComponent
    TableComponent:
      properties:
        label:
          type: string
          enum: [TABLE]
          title: Label
          default: TABLE
        properties:
          $ref: '#/components/schemas/kncore__structs__datamodel__Table'
      type: object
      required:
        - properties
      title: TableComponent
    DiagramComponent:
      properties:
        label:
          type: string
          enum: [DIAGRAM]
          title: Label
          default: DIAGRAM
        properties:
          $ref: '#/components/schemas/Diagram'
      type: object
      required:
        - properties
      title: DiagramComponent
    UnstructuredComponent:
      properties:
        label:
          type: string
          enum: [FREETEXT]
          title: Label
          default: FREETEXT
        properties:
          $ref: '#/components/schemas/kncore__structs__datamodel__Section'
      type: object
      required:
        - properties
      title: UnstructuredComponent
    FAQComponent:
      properties:
        label:
          type: string
          enum: [FAQ]
          title: Label
          default: FAQ
        properties:
          $ref: '#/components/schemas/FAQ'
      type: object
      required:
        - properties
      title: FAQComponent
    DictionaryComponent:
      properties:
        label:
          type: string
          enum: [DICTIONARY]
          title: Label
          default: DICTIONARY
        properties:
          $ref: '#/components/schemas/Dictionary'
      type: object
      required:
        - properties
      title: DictionaryComponent
    
    
    
    
      
    app__api__v3__payload__actions__chunking__Document:
      properties:
        companyName:
          type: string
          title: Companyname
        docName:
          type: string
          title: Docname
        docType:
          type: string
          title: Doctype
          default: structured
      type: object
      required:
        - companyName
        - docName
      title: Document
    app__api__v3__payload__actions__chunking__Table:
      properties:
        companyName:
          type: string
          title: Companyname
        parentDocName:
          type: string
          title: Parentdocname
        parentPageIdx:
          type: integer
          title: Parentpageidx
        tableIdx:
          type: integer
          title: Tableidx
        text:
          type: string
          title: Text
          default: ''
        uniIdx:
          type: string
          title: Uniidx
          default: ''
        vectordbIds:
          items:
            type: string
          type: array
          title: Vectordbids
      type: object
      required:
        - companyName
        - parentDocName
        - parentPageIdx
        - tableIdx
      title: Table
    kncore__structs__datamodel__Section:
      properties:
        reference_id:
          type: string
          title: Reference Id
          default: ''
        doc_name:
          type: string
          title: Doc Name
          default: ''
        page_idx:
          type: integer
          title: Page Idx
          default: 0
        section_idx:
          type: integer
          title: Section Idx
          default: 0
        current_index:
          type: integer
          title: Current Index
          default: 0
        section_heading:
          type: string
          title: Section Heading
          default: ''
        title:
          type: string
          title: Title
          default: ''
        text:
          type: string
          title: Text
          default: ''
        page_header:
          type: string
          title: Page Header
          default: ''
        page_footer:
          type: string
          title: Page Footer
          default: ''
        unique_idx:
          type: string
          title: Unique Idx
          default: ''
        vectordb_ids:
          items:
            type: string
          type: array
          title: Vectordb Ids
      type: object
      title: Section
    kncore__structs__datamodel__Table:
      properties:
        reference_id:
          type: string
          title: Reference Id
        doc_name:
          type: string
          title: Doc Name
          default: ''
        page_idx:
          type: integer
          title: Page Idx
        table_idx:
          type: integer
          title: Table Idx
        text:
          type: string
          title: Text
          default: ''
        unique_idx:
          type: string
          title: Unique Idx
          default: ''
        vectordb_ids:
          items:
            type: string
          type: array
          title: Vectordb Ids
      type: object
      required:
        - reference_id
        - page_idx
        - table_idx
      title: Table

      
    Body_extract_ai_v3.3_actions_document_extract__post:
      properties:
        file:
          type: string
          format: binary
          title: File
      type: object
      required:
        - file
      title: Body_extract_ai_v3.3_actions_document_extract__post
      
    TOC:
      properties:
        companyName:
          type: string
          title: Companyname
        parentDocName:
          type: string
          title: Parentdocname
        text:
          type: string
          title: Text
          default: ''
        uniIdx:
          type: string
          title: Uniidx
          default: ''
      type: object
      required:
        - companyName
        - parentDocName
      title: TOC
    Page:
      properties:
        companyName:
          type: string
          title: Companyname
        pageIdx:
          type: integer
          title: Pageidx
          default: 0
        parentDocName:
          type: string
          title: Parentdocname
          default: ''
        pageNumber:
          type: string
          title: Pagenumber
          default: ''
        pageName:
          type: string
          title: Pagename
          default: ''
        pageHeader:
          type: string
          title: Pageheader
          default: ''
        pageFooter:
          type: string
          title: Pagefooter
          default: ''
        title:
          type: string
          title: Title
          default: ''
        uniIdx:
          type: string
          title: Uniidx
          default: ''
      type: object
      required:
        - companyName
      title: Page
    Section:
      properties:
        companyName:
          type: string
          title: Companyname
        parentDocName:
          type: string
          title: Parentdocname
          default: ''
        parentPageIdx:
          type: integer
          title: Parentpageidx
          default: 0
        sectionIdx:
          type: integer
          title: Sectionidx
          default: 0
        currentIndex:
          type: integer
          title: Currentindex
          default: 0
        sectionHeading:
          type: string
          title: Sectionheading
          default: ''
        title:
          type: string
          title: Title
          default: ''
        text:
          type: string
          title: Text
          default: ''
        pageHeader:
          type: string
          title: Pageheader
          default: ''
        pageFooter:
          type: string
          title: Pagefooter
          default: ''
        uniIdx:
          type: string
          title: Uniidx
          default: ''
        vectordbIds:
          items:
            type: string
          type: array
          title: Vectordbids
      type: object
      required:
        - companyName
      title: Section
    QA:
      properties:
        companyName:
          type: string
          title: Companyname
        qaIdx:
          type: integer
          title: Qaidx
        text:
          type: string
          title: Text
          default: ''
        embedding:
          $ref: '#/components/schemas/Embedding'
        uniIdx:
          type: string
          title: Uniidx
          default: ''
        vectordbIds:
          items:
            type: string
          type: array
          title: Vectordbids
      type: object
      required:
        - companyName
        - qaIdx
        - embedding
      title: QA
    FreeText:
      properties:
        companyName:
          type: string
          title: Companyname
        metadata:
          type: object
          title: Metadata
        text:
          type: string
          title: Text
      type: object
      required:
        - companyName
        - metadata
        - text
      title: FreeText
    Embedding:
      items:
        type: number
      type: array
    FAQ:
      properties:
        faq_idx:
          type: integer
          title: Faq Idx
        text:
          type: string
          title: Text
          default: ''
        reference_id:
          type: string
          title: Reference Id
          default: ''
        page_idx:
          type: integer
          title: Page Idx
          default: 0
        doc_name:
          type: string
          title: Doc Name
          default: ''
      type: object
      required:
        - faq_idx
      title: FAQ
    Dictionary:
      properties:
        dictionary_idx:
          type: integer
          title: Dictionary Idx
        text:
          type: string
          title: Text
          default: ''
        reference_id:
          type: string
          title: Reference Id
          default: ''
        page_idx:
          type: integer
          title: Page Idx
          default: 0
        doc_name:
          type: string
          title: Doc Name
          default: ''
      type: object
      required:
        - dictionary_idx
      title: Dictionary
    
    
      
    ExtractorResponseType:
      type: string
      enum:
        - json
        - markdown
      title: ExtractorResponseType
    ReferencesAdaptiveResponse:
      properties:
        spec_type:
          type: string
          enum: [references] 
          title: Spec Type
          default: references
        elements:
          items:
            oneOf:
              - $ref: '#/components/schemas/kncore__extractors__models__Table'
              - $ref: '#/components/schemas/Figure'
              - $ref: '#/components/schemas/kncore__extractors__models__Section'
            discriminator:
              propertyName: role
              mapping:
                figure: '#/components/schemas/Figure'
                section: '#/components/schemas/kncore__extractors__models__Section'
                table: '#/components/schemas/kncore__extractors__models__Table'
          type: array
          title: Elements
        pages:
          items:
            $ref: '#/components/schemas/kncore__extractors__models__Page'
          type: array
          title: Pages
        dynamic_fields:
          $ref: '#/components/schemas/ReferencesDynamicFields'
        filename:
          anyOf:
            - type: string
              nullable: true
          title: Filename
        fileformat:
          anyOf:
            - type: string
              nullable: true
          title: Fileformat
      type: object
      required:
        - elements
        - pages
        - dynamic_fields
      title: ReferencesAdaptiveResponse
    PowerPointAdaptiveResponse:
      properties:
        spec_type:
          type: string
          enum: [powerpoint]
          title: Spec Type
          default: powerpoint
        elements:
          items:
            $ref: '#/components/schemas/Slide'
          type: array
          title: Elements
        pages:
          items:
            $ref: '#/components/schemas/kncore__extractors__models__Page'
          type: array
          title: Pages
        dynamic_fields:
          $ref: '#/components/schemas/PowerPointDynamicFields'
        filename:
          anyOf:
            - type: string
              nullable: true
          title: Filename
        fileformat:
          anyOf:
            - type: string
              nullable: true
          title: Fileformat
      type: object
      required:
        - elements
        - pages
        - dynamic_fields
      title: PowerPointAdaptiveResponse
    ImageAdaptiveResponse:
      properties:
        spec_type:
          type: string
          enum: [image]
          title: Spec Type
          default: image
        elements:
          items:
            $ref: '#/components/schemas/Figure'
          type: array
          title: Elements
        pages:
          items:
            $ref: '#/components/schemas/kncore__extractors__models__Page'
          type: array
          title: Pages
        dynamic_fields:
          $ref: '#/components/schemas/ImageDynamicFields'
        filename:
          anyOf:
            - type: string
              nullable: true
          title: Filename
        fileformat:
          anyOf:
            - type: string
              nullable: true
          title: Fileformat
      type: object
      required:
        - elements
        - pages
        - dynamic_fields
      title: ImageAdaptiveResponse
    StructuredResponseMarkdown:
      additionalProperties:
        type: string
      type: object
    ErrorResponse:
      properties:
        message:
          type: string
          title: Message
      type: object
      required:
        - message
      title: ErrorResponse
    Figure:
      properties:
        page_idx:
          type: integer
          title: Page Idx
        role:
          type: string
          enum: [figure]
          title: Role
          default: figure
        global_idx:
          type: integer
          title: Global Idx
        contents:
          items:
            type: string
          type: array
          title: Contents
        attributes:
          $ref: '#/components/schemas/Attributes'
        embedded_texts:
          items:
            type: string
          type: array
          title: Embedded Texts
        captions:
          items:
            type: string
          type: array
          title: Captions
      type: object
      required:
        - page_idx
        - global_idx
      title: Figure
    Attributes:
      properties:
        bounding_region:
          anyOf:
            - $ref: '#/components/schemas/BoundingBoxCoord'
            - $ref: '#/components/schemas/BoundingBoxExcel'
          nullable: true
          title: Bounding Region
        xpath:
          anyOf:
            - $ref: '#/components/schemas/XPath'
          nullable: true
        export_path:
          anyOf:
            - type: string
              format: path
              nullable: true
          title: Export Path
      type: object
      title: Attributes
    ReferencesDynamicFields:
      properties:
        xpaths:
          $ref: '#/components/schemas/XPaths'
        table_of_contents:
          anyOf:
            - type: string
              nullable: true
          title: Table Of Contents
        has_table:
          type: boolean
          title: Has Table
          default: false
      type: object
      required:
        - xpaths
      title: ReferencesDynamicFields
    Axis:
      type: string
      enum:
        - page
        - figure
        - paragraph
        - section
        - table
      title: Axis
    XStep:
      properties:
        axis:
          $ref: '#/components/schemas/Axis'
        idx:
          type: integer
          title: Idx
      type: object
      required:
        - axis
        - idx
      title: XStep
    XPaths:
      properties:
        mp_pageidx_registry:
          additionalProperties:
            $ref: '#/components/schemas/XRegistry'
          type: object
          title: Mp Pageidx Registry
      type: object
      title: XPaths
    XPath:
      properties:
        xsteps:
          items:
            $ref: '#/components/schemas/XStep'
          type: array
          minItems: 1
          title: Xsteps
        _page:
          anyOf:
            - $ref: '#/components/schemas/XStep'
          nullable: true
        _sections:
          items:
            $ref: '#/components/schemas/XStep'
          type: array
          title: Sections
      type: object
      title: XPath
    XRegistry:
      properties:
        registry:
          additionalProperties:
            additionalProperties:
              $ref: '#/components/schemas/XPath'
            type: object
          propertyNames:
            $ref: '#/components/schemas/Axis'
          type: object
          title: Registry
      type: object
      title: XRegistry
    Slide:
      properties:
        slide_idx:
          type: integer
          title: Slide Idx
        export_path:
          anyOf:
            - type: string
              format: path
              nullable: true
          title: Export Path
        contents:
          items:
            type: string
          type: array
          title: Contents
      type: object
      required:
        - slide_idx
      title: Slide
    PowerPointDynamicFields:
      properties:
        idx_metadata_slides:
          items:
            type: integer
          type: array
          title: Idx Metadata Slides
        idx_di_slides:
          items:
            type: integer
          type: array
          title: Idx Di Slides
      type: object
      title: PowerPointDynamicFields
    BoundingBoxCoord:
      properties:
        top:
          anyOf:
            - type: integer
            - type: number
          title: Top
        left:
          anyOf:
            - type: integer
            - type: number
          title: Left
        bottom:
          anyOf:
            - type: integer
            - type: number
          title: Bottom
        right:
          anyOf:
            - type: integer
            - type: number
          title: Right
      type: object
      required:
        - top
        - left
        - bottom
        - right
      title: BoundingBoxCoord
    BoundingBoxExcel:
      properties:
        top:
          anyOf:
            - type: integer
            - type: number
          title: Top
        left:
          anyOf:
            - type: integer
            - type: number
          title: Left
        bottom:
          anyOf:
            - type: integer
            - type: number
          title: Bottom
        right:
          anyOf:
            - type: integer
            - type: number
          title: Right
      type: object
      required:
        - top
        - left
        - bottom
        - right
      title: BoundingBoxExcel
    ImageDynamicFields:
      properties: {}
      type: object
      title: ImageDynamicFields
    Cell:
      properties:
        row_indices:
          items:
            type: integer
          type: array
          title: Row Indices
        col_indices:
          items:
            type: integer
          type: array
          title: Col Indices
        is_column_header:
          type: boolean
          title: Is Column Header
          default: false
        is_projected_row_header:
          type: boolean
          title: Is Projected Row Header
          default: false
        content:
          type: string
          title: Content
          default: ''
      type: object
      required:
        - row_indices
        - col_indices
      title: Cell
      
    kncore__extractors__models__Table:
      properties:
        page_idx:
          type: integer
          title: Page Idx
        role:
          type: string
          enum: [table]
          title: Role
          default: table
        global_idx:
          type: integer
          title: Global Idx
        contents:
          items:
            type: string
          type: array
          title: Contents
        attributes:
          $ref: '#/components/schemas/Attributes'
        num_column:
          type: integer
          title: Num Column
        num_row:
          type: integer
          title: Num Row
        cells:
          items:
            $ref: '#/components/schemas/Cell'
          type: array
          title: Cells
        captions:
          items:
            type: string
          type: array
          title: Captions
      type: object
      required:
        - page_idx
        - global_idx
        - num_column
        - num_row
        - cells
      title: Table
    kncore__extractors__models__Page:
      properties:
        page_idx:
          type: integer
          minimum: 0
          exclusiveMinimum: true
          title: Page Idx
        name:
          anyOf:
            - type: string
              nullable: true
          title: Name
        width:
          anyOf:
            - type: number
              nullable: true
          title: Width
        height:
          anyOf:
            - type: number
              nullable: true
          title: Height
        titles:
          items:
            type: string
          type: array
          title: Titles
        headers:
          items:
            type: string
          type: array
          title: Headers
        footers:
          items:
            type: string
          type: array
          title: Footers
        contents:
          items:
            type: string
          type: array
          title: Contents
        footnotes:
          items:
            type: string
          type: array
          title: Footnotes
        page_numbers:
          items:
            type: string
          type: array
          title: Page Numbers
        section_headings:
          additionalProperties:
            type: string
          type: object
          title: Section Headings
        attributes:
          $ref: '#/components/schemas/Attributes'
      type: object
      required:
        - page_idx
      title: Page
    kncore__extractors__models__Section:
      properties:
        page_idx:
          type: integer
          title: Page Idx
        role:
          type: string
          enum: [section]
          title: Role
          default: section
        global_idx:
          type: integer
          title: Global Idx
        contents:
          items:
            type: string
          type: array
          title: Contents
        attributes:
          $ref: '#/components/schemas/Attributes'
        paragraphs:
          items:
            type: string
          type: array
          title: Paragraphs
      type: object
      required:
        - page_idx
        - global_idx
      title: Section
    kncore__structs__datamodel__Page:
      properties:
        page_idx:
          type: integer
          title: Page Idx
          default: 0
        text:
          type: string
          title: Text
          default: ''
        reference_id:
          type: string
          title: Reference Id
          default: ''
        doc_name:
          type: string
          title: Doc Name
          default: ''
        page_number:
          type: string
          title: Page Number
          default: ''
        page_name:
          type: string
          title: Page Name
          default: ''
        page_header:
          type: string
          title: Page Header
          default: ''
        page_footer:
          type: string
          title: Page Footer
          default: ''
        title:
          type: string
          title: Title
          default: ''
        unique_idx:
          type: string
          title: Unique Idx
          default: ''
      type: object
      title: Page

  securitySchemes:
    MyHTTPBearer:
      type: http
      description: |

        Bearer Authentication, see more at [the official documentation](https://swagger.io/docs/specification/authentication/bearer-authentication/).

        The bearer token could be retrieved upon successfully logging in at [/api/v3/auth/login/](/docs#/auth/login_api_v3_auth_login__post).

        Follow these steps:
        - login at [POST /api/v3/auth/login/](/docs#/auth/login_api_v3_auth_login__post).
        - retrieve the token from the `access_token` field.
        - paste the token here, then `Authorize`.
      scheme: bearer
